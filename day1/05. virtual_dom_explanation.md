# Virtual DOM 쉽게 이해하기

## 🎯 Virtual DOM이란?

Virtual DOM은 실제 브라우저의 DOM(Document Object Model)을 메모리 내에 복사한 가상의 DOM입니다. Vue, React와 같은 프레임워크에서 성능 최적화를 위해 사용됩니다.

## 🖼️ 쉽게 비유하면...

실제 DOM을 **실제 건물**이라고 생각해보세요:
- 실제 건물을 수정하려면 많은 시간과 비용이 듭니다
- 작은 변경사항에도 전체 건물을 다시 짓는 것처럼 느껴질 수 있습니다

Virtual DOM은 **건축 모형**과 같습니다:
- 모형은 가볍고 빠르게 수정할 수 있습니다
- 변경사항을 모형에 먼저 적용한 후, 실제 건물에 필요한 부분만 수정합니다

## 🔄 Virtual DOM의 작동 방식

1. **초기 렌더링**: 
   - Vue 앱이 시작되면 실제 DOM의 복사본인 Virtual DOM이 메모리에 생성됩니다

2. **상태 변경 시**:
   - 데이터가 변경되면 Virtual DOM이 먼저 업데이트됩니다
   - Virtual DOM은 이전 상태와 비교하여 실제로 변경된 부분만 식별합니다

3. **최종 렌더링**:
   - 변경된 부분만 실제 DOM에 적용합니다
   - 이 과정을 "패치(patch)" 또는 "리렌더링(re-rendering)"이라고 합니다

## 💡 장점

- **성능 향상**: 실제 DOM 조작은 비용이 많이 듭니다. Virtual DOM은 필요한 부분만 변경하여 성능을 개선합니다
- **개발 편의성**: 개발자는 데이터 변경에만 집중할 수 있고, DOM 조작은 프레임워크가 처리합니다
- **크로스 플랫폼**: Virtual DOM은 웹뿐만 아니라 모바일 앱 개발에도 활용됩니다

## 🧩 예시로 이해하기

```js
// 데이터 변경
this.message = "안녕하세요!";

// Virtual DOM 내부 동작 (간략화)
// 1. 이전 Virtual DOM 상태 저장
const oldVNode = {
  type: 'div',
  children: 'Hello World'
};

// 2. 새로운 Virtual DOM 생성
const newVNode = {
  type: 'div',
  children: '안녕하세요!'
};

// 3. 차이점 비교 (diffing)
// - 텍스트 내용만 변경됨

// 4. 실제 DOM에 필요한 부분만 업데이트
// - div 요소의 텍스트 노드만 변경
```

## ✅ 정리

Virtual DOM은 실제 DOM의 변경사항을 최적화하는 중간 계층입니다. 마치 건축 모형처럼 가볍고 빠르게 변경사항을 테스트한 후, 실제 DOM에는 필요한 부분만 적용하여 성능을 향상시킵니다. 