# Vue 3 Composition API 기본 이해

## 📌 1. Composition API란?

- Vue 3에서 도입된 새로운 방식의 API로, 기존 Options API의 단점을 보완합니다.
- `setup()` 함수를 중심으로 컴포넌트의 로직을 구성합니다.
- 코드 재사용성, 유지보수성, 타입 지원에서 장점이 있습니다.

---

## 🧪 2. `setup()` 함수란?

- 모든 Composition API 로직은 `setup()` 함수 내에서 정의됩니다.
- 컴포넌트가 생성되기 **이전에 호출**됩니다.
- 반환된 값은 템플릿에서 사용할 수 있습니다.

```js
<script setup>
import { ref } from 'vue';

const count = ref(0);
const increment = () => count.value++;
</script>

<template>
  <button @click="increment">Count: {{ count }}</button>
</template>
```

---

## 🔁 3. 반응형 변수: `ref`와 `reactive`

### ✅ ref
- 기본형 타입의 반응형 상태 생성에 사용합니다.
```js
const count = ref(0);
console.log(count.value); // 0
```

### ✅ reactive
- 객체나 배열 등 복합형 데이터를 반응형으로 만듭니다.
```js
const user = reactive({ name: 'Alice', age: 25 });
```

---

## 🔍 4. 계산된 속성: `computed`

- 기존 `computed` 옵션과 유사하게 동작합니다.
```js
const firstName = ref('John');
const lastName = ref('Doe');
const fullName = computed(() => `${firstName.value} ${lastName.value}`);
```

---

## 👀 5. 감시자: `watch`, `watchEffect`

### watch
- 특정 ref/reactive 값을 감시하여 값 변경 시 콜백 실행

```js
watch(count, (newVal, oldVal) => {
  console.log(`count가 ${oldVal}에서 ${newVal}로 변경됨`);
});
```

### watchEffect
- 의존성 자동 추적 기반 반응형 처리

```js
watchEffect(() => {
  console.log(`count는 ${count.value}`);
});
```

---

## ⏳ 6. 생명주기 훅

- Composition API에서는 아래와 같이 라이프사이클 훅을 사용합니다.

```js
import { onMounted, onUnmounted } from 'vue';

onMounted(() => {
  console.log('컴포넌트가 마운트됨');
});

onUnmounted(() => {
  console.log('컴포넌트가 언마운트됨');
});
```

---

## ✅ 정리

- Composition API는 Vue 3에서 가장 중요한 변화 중 하나입니다.
- `ref`, `reactive`, `computed`, `watch`, `setup()`을 기반으로 반응형 UI를 구성합니다.
- 다음 시간에는 템플릿 문법 및 디렉티브를 다룹니다.
